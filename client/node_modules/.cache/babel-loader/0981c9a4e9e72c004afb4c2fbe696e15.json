{"ast":null,"code":"import _slicedToArray from\"C:/Users/scs/OneDrive/Desktop/9 hours insa_allah/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState,useEffect}from\"react\";import{useParams,Link}from\"react-router-dom\";import{GlobalState}from\"../../../GlobaalState\";import ProductItem from\"../utils/productItem/ProductItem\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function DetailProduct(){var params=useParams();var state=useContext(GlobalState);var _state$productsAPI$pr=_slicedToArray(state.productsAPI.products,1),products=_state$productsAPI$pr[0];var addCart=state.userAPI.addCart;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),detailProduct=_useState2[0],setDetailProduct=_useState2[1];useEffect(function(){if(params.id){products.forEach(function(product){if(product._id===params.id)setDetailProduct(product);});}},[params.id,products]);if(detailProduct.length===0)return null;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail\",children:[/*#__PURE__*/_jsx(\"img\",{src:detailProduct.images.url,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"box-detail\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"h2\",{children:detailProduct.title}),/*#__PURE__*/_jsxs(\"h6\",{children:[\"#id: \",detailProduct.product_id]})]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$ \",detailProduct.price]}),/*#__PURE__*/_jsx(\"p\",{children:detailProduct.description}),/*#__PURE__*/_jsx(\"p\",{children:detailProduct.content}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Sold: \",detailProduct.sold]}),/*#__PURE__*/_jsx(Link,{to:\"/cart\",className:\"cart\",onClick:function onClick(){return addCart(detailProduct);},children:\"Buy Now\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Related products\"}),/*#__PURE__*/_jsx(\"div\",{className:\"products\",children:products.map(function(product){return product.category===detailProduct.category?/*#__PURE__*/_jsx(ProductItem,{product:product},product._id):null;})})]})]});}export default DetailProduct;","map":{"version":3,"names":["React","useContext","useState","useEffect","useParams","Link","GlobalState","ProductItem","DetailProduct","params","state","productsAPI","products","addCart","userAPI","detailProduct","setDetailProduct","id","forEach","product","_id","length","images","url","title","product_id","price","description","content","sold","map","category"],"sources":["C:/Users/scs/OneDrive/Desktop/9 hours insa_allah/client/src/components/mainpages/detailProduct/DetailProduct.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport { GlobalState } from \"../../../GlobaalState\";\r\n\r\nimport ProductItem from \"../utils/productItem/ProductItem\";\r\n\r\nfunction DetailProduct() {\r\n  const params = useParams();\r\n  const state = useContext(GlobalState);\r\n  const [products] = state.productsAPI.products;\r\n   const addCart = state.userAPI.addCart;\r\n  const [detailProduct, setDetailProduct] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (params.id) {\r\n      products.forEach((product) => {\r\n        if (product._id === params.id) setDetailProduct(product);\r\n      });\r\n    }\r\n  }, [params.id, products]);\r\n\r\n  if (detailProduct.length === 0) return null;\r\n\r\n  return (\r\n    <>\r\n      <div className=\"detail\">\r\n        <img src={detailProduct.images.url} alt=\"\" />\r\n        <div className=\"box-detail\">\r\n          <div className=\"row\">\r\n            <h2>{detailProduct.title}</h2>\r\n            <h6>#id: {detailProduct.product_id}</h6>\r\n          </div>\r\n          <span>$ {detailProduct.price}</span>\r\n          <p>{detailProduct.description}</p>\r\n          <p>{detailProduct.content}</p>\r\n          <p>Sold: {detailProduct.sold}</p>\r\n          <Link to=\"/cart\" className=\"cart\"\r\n          onClick={()=>addCart(detailProduct)}>\r\n            Buy Now\r\n          </Link>\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <h2>Related products</h2>\r\n        <div className=\"products\">\r\n          {products.map((product) => {\r\n            return product.category === detailProduct.category ? (\r\n              <ProductItem key={product._id} product={product} />\r\n            ) : null;\r\n          })}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default DetailProduct;\r\n"],"mappings":"6IAAA,MAAOA,MAAK,EAAIC,UAAU,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC9D,OAASC,SAAS,CAAEC,IAAI,KAAQ,kBAAkB,CAClD,OAASC,WAAW,KAAQ,uBAAuB,CAEnD,MAAOC,YAAW,KAAM,kCAAkC,CAAC,6IAE3D,QAASC,cAAa,EAAG,CACvB,GAAMC,OAAM,CAAGL,SAAS,EAAE,CAC1B,GAAMM,MAAK,CAAGT,UAAU,CAACK,WAAW,CAAC,CACrC,yCAAmBI,KAAK,CAACC,WAAW,CAACC,QAAQ,IAAtCA,QAAQ,0BACd,GAAMC,QAAO,CAAGH,KAAK,CAACI,OAAO,CAACD,OAAO,CACtC,cAA0CX,QAAQ,CAAC,EAAE,CAAC,wCAA/Ca,aAAa,eAAEC,gBAAgB,eAEtCb,SAAS,CAAC,UAAM,CACd,GAAIM,MAAM,CAACQ,EAAE,CAAE,CACbL,QAAQ,CAACM,OAAO,CAAC,SAACC,OAAO,CAAK,CAC5B,GAAIA,OAAO,CAACC,GAAG,GAAKX,MAAM,CAACQ,EAAE,CAAED,gBAAgB,CAACG,OAAO,CAAC,CAC1D,CAAC,CAAC,CACJ,CACF,CAAC,CAAE,CAACV,MAAM,CAACQ,EAAE,CAAEL,QAAQ,CAAC,CAAC,CAEzB,GAAIG,aAAa,CAACM,MAAM,GAAK,CAAC,CAAE,MAAO,KAAI,CAE3C,mBACE,wCACE,aAAK,SAAS,CAAC,QAAQ,wBACrB,YAAK,GAAG,CAAEN,aAAa,CAACO,MAAM,CAACC,GAAI,CAAC,GAAG,CAAC,EAAE,EAAG,cAC7C,aAAK,SAAS,CAAC,YAAY,wBACzB,aAAK,SAAS,CAAC,KAAK,wBAClB,oBAAKR,aAAa,CAACS,KAAK,EAAM,cAC9B,8BAAUT,aAAa,CAACU,UAAU,GAAM,GACpC,cACN,6BAASV,aAAa,CAACW,KAAK,GAAQ,cACpC,mBAAIX,aAAa,CAACY,WAAW,EAAK,cAClC,mBAAIZ,aAAa,CAACa,OAAO,EAAK,cAC9B,8BAAUb,aAAa,CAACc,IAAI,GAAK,cACjC,KAAC,IAAI,EAAC,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CACjC,OAAO,CAAE,yBAAIhB,QAAO,CAACE,aAAa,CAAC,EAAC,qBAE7B,GACH,GACF,cAEN,oCACE,wCAAyB,cACzB,YAAK,SAAS,CAAC,UAAU,UACtBH,QAAQ,CAACkB,GAAG,CAAC,SAACX,OAAO,CAAK,CACzB,MAAOA,QAAO,CAACY,QAAQ,GAAKhB,aAAa,CAACgB,QAAQ,cAChD,KAAC,WAAW,EAAmB,OAAO,CAAEZ,OAAQ,EAA9BA,OAAO,CAACC,GAAG,CAAsB,CACjD,IAAI,CACV,CAAC,CAAC,EACE,GACF,GACL,CAEP,CAEA,cAAeZ,cAAa"},"metadata":{},"sourceType":"module"}