{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/scs/OneDrive/Desktop/9 hours insa_allah/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/scs/OneDrive/Desktop/9 hours insa_allah/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/scs/OneDrive/Desktop/9 hours insa_allah/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// import React, { useContext } from 'react'\n// import { GlobalState } from '../../GlobaalState'\n// import menu from \"../headers/icon/menu.svg\"\n// import Close from \"../headers/icon/close.svg\";\n// import Cart from \"../headers/icon/cart.svg\";\n// import { Link } from 'react-router-dom';\n// export default function Header() {\n//   const state = useContext(GlobalState)\n//   const [isLogged,setIsLogged] = state.userAPI.isLogged;\n//   const [isAdmin,setIsAdmin] = state.userAPI.isAdmin;\n//   // const [cart] = state.userAPI.cart;\n//   // const [menu, setMenu] = useState(false);\n//   // const logoutUser = async () => {\n//   //   await axios.get(\"/user/logout\");\n//   //   localStorage.removeItem(\"firstLogin\");\n//   //   window.location.href = \"/\";\n//   // };\n//   const adminRouter = () => {\n//     return (\n//       <>\n//         <li>\n//           <Link to=\"/create_product\">Create Product</Link>\n//         </li>\n//         <li>\n//           <Link to=\"/category\">Categories</Link>\n//         </li>\n//       </>\n//     );\n//   };\n//   const loggedRouter = () => {\n//     return (\n//       <>\n//         <li>\n//           <Link to=\"/history\">History</Link>\n//         </li>\n//         <li>\n//           <Link to=\"/\">\n//             Logout\n//           </Link>\n//         </li>\n//       </>\n//     );\n//   };\n//   // const styleMenu = {\n//   //   left: menu ? 0 : \"-100%\",\n//   // };\n//   return (\n//     <header>\n//       <div className=\"menu\">\n//         <img src={menu} alt=\"\" width=\"30\" />\n//       </div>\n//       <div className=\"logo\">\n//         <h1>\n//           <Link to=\"/\">{isAdmin ? \"Admin\" : \"Asik Shoping Mole\"}</Link>\n//         </h1>\n//       </div>\n//       <ul>\n//         <li>\n//           <Link to=\"/\">{isAdmin ? \"Products\" : \"Shop\"}</Link>\n//         </li>\n//         {isAdmin && adminRouter()}\n//         {isLogged ? (\n//           loggedRouter()\n//         ) : (\n//           <li>\n//             <Link to=\"/login\">Login ✥ Register</Link>\n//           </li>\n//         )}\n//         <li>\n//           <img src={Close} alt=\"\" width=\"30\" className=\"menu\" />\n//         </li>\n//       </ul>\n//       {isAdmin ? (\n//         \"\"\n//       ) : (\n//         <div className=\"cart-icon\">\n//           <span>0</span>\n//           <Link to=\"/cart\">\n//             <img src={Cart} alt=\"\" width=\"30\" />\n//           </Link>\n//         </div>\n//       )}\n//     </header>\n//   );\n// }\nimport React,{useContext,useState}from\"react\";import{GlobalState}from\"../../GlobaalState\";import Menu from\"./icon/menu.svg\";import Close from\"./icon/close.svg\";import Cart from\"./icon/cart.svg\";import{Link}from\"react-router-dom\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Header(){var state=useContext(GlobalState);var _state$userAPI$isLogg=_slicedToArray(state.userAPI.isLogged,1),isLogged=_state$userAPI$isLogg[0];var _state$userAPI$isAdmi=_slicedToArray(state.userAPI.isAdmin,1),isAdmin=_state$userAPI$isAdmi[0];var _state$userAPI$cart=_slicedToArray(state.userAPI.cart,1),cart=_state$userAPI$cart[0];var _useState=useState(false),_useState2=_slicedToArray(_useState,2),menu=_useState2[0],setMenu=_useState2[1];var logoutUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/user/logout\");case 2:localStorage.removeItem(\"firstLogin\");localStorage.clear();window.location.href=\"/\";case 5:case\"end\":return _context.stop();}}},_callee);}));return function logoutUser(){return _ref.apply(this,arguments);};}();var adminRouter=function adminRouter(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/create_product\",children:\"Create Product\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/category\",children:\"Categories\"})})]});};var loggedRouter=function loggedRouter(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/history\",children:\"History\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",onClick:logoutUser,children:\"Logout\"})})]});};var styleMenu={left:menu?0:\"-100%\"};return/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"menu\",onClick:function onClick(){return setMenu(!menu);},children:/*#__PURE__*/_jsx(\"img\",{src:Menu,alt:\"\",width:\"30\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:/*#__PURE__*/_jsx(\"h1\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:isAdmin?\"ADMIN\":\"ASIK SHOP\"})})}),/*#__PURE__*/_jsxs(\"ul\",{style:styleMenu,children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:isAdmin?\"Products\":\"Shop\"})}),isAdmin&&adminRouter(),isLogged?loggedRouter():/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login \\u2725 Register\"})}),/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){return setMenu(!menu);},children:/*#__PURE__*/_jsx(\"img\",{src:Close,alt:\"\",width:\"30\",className:\"menu\"})})]}),isAdmin?\"\":/*#__PURE__*/_jsxs(\"div\",{className:\"cart-icon\",children:[/*#__PURE__*/_jsx(\"span\",{children:cart.length}),/*#__PURE__*/_jsx(Link,{to:\"/cart\",children:/*#__PURE__*/_jsx(\"img\",{src:Cart,alt:\"\",width:\"30\"})})]})]});}export default Header;","map":{"version":3,"names":["React","useContext","useState","GlobalState","Menu","Close","Cart","Link","axios","Header","state","userAPI","isLogged","isAdmin","cart","menu","setMenu","logoutUser","get","localStorage","removeItem","clear","window","location","href","adminRouter","loggedRouter","styleMenu","left","length"],"sources":["C:/Users/scs/OneDrive/Desktop/9 hours insa_allah/client/src/components/headers/Header.js"],"sourcesContent":["// import React, { useContext } from 'react'\r\n// import { GlobalState } from '../../GlobaalState'\r\n\r\n// import menu from \"../headers/icon/menu.svg\"\r\n// import Close from \"../headers/icon/close.svg\";\r\n// import Cart from \"../headers/icon/cart.svg\";\r\n// import { Link } from 'react-router-dom';\r\n// export default function Header() {\r\n//   const state = useContext(GlobalState)\r\n//   const [isLogged,setIsLogged] = state.userAPI.isLogged;\r\n//   const [isAdmin,setIsAdmin] = state.userAPI.isAdmin;\r\n//   // const [cart] = state.userAPI.cart;\r\n//   // const [menu, setMenu] = useState(false);\r\n\r\n//   // const logoutUser = async () => {\r\n//   //   await axios.get(\"/user/logout\");\r\n\r\n//   //   localStorage.removeItem(\"firstLogin\");\r\n\r\n//   //   window.location.href = \"/\";\r\n//   // };\r\n\r\n//   const adminRouter = () => {\r\n//     return (\r\n//       <>\r\n//         <li>\r\n//           <Link to=\"/create_product\">Create Product</Link>\r\n//         </li>\r\n//         <li>\r\n//           <Link to=\"/category\">Categories</Link>\r\n//         </li>\r\n//       </>\r\n//     );\r\n//   };\r\n\r\n//   const loggedRouter = () => {\r\n//     return (\r\n//       <>\r\n//         <li>\r\n//           <Link to=\"/history\">History</Link>\r\n//         </li>\r\n//         <li>\r\n//           <Link to=\"/\">\r\n//             Logout\r\n//           </Link>\r\n//         </li>\r\n//       </>\r\n//     );\r\n//   };\r\n\r\n//   // const styleMenu = {\r\n//   //   left: menu ? 0 : \"-100%\",\r\n//   // };\r\n\r\n  \r\n//   return (\r\n//     <header>\r\n//       <div className=\"menu\">\r\n//         <img src={menu} alt=\"\" width=\"30\" />\r\n//       </div>\r\n//       <div className=\"logo\">\r\n//         <h1>\r\n//           <Link to=\"/\">{isAdmin ? \"Admin\" : \"Asik Shoping Mole\"}</Link>\r\n//         </h1>\r\n//       </div>\r\n//       <ul>\r\n//         <li>\r\n//           <Link to=\"/\">{isAdmin ? \"Products\" : \"Shop\"}</Link>\r\n//         </li>\r\n\r\n//         {isAdmin && adminRouter()}\r\n\r\n//         {isLogged ? (\r\n//           loggedRouter()\r\n//         ) : (\r\n//           <li>\r\n//             <Link to=\"/login\">Login ✥ Register</Link>\r\n//           </li>\r\n//         )}\r\n\r\n//         <li>\r\n//           <img src={Close} alt=\"\" width=\"30\" className=\"menu\" />\r\n//         </li>\r\n//       </ul>\r\n//       {isAdmin ? (\r\n//         \"\"\r\n//       ) : (\r\n//         <div className=\"cart-icon\">\r\n//           <span>0</span>\r\n//           <Link to=\"/cart\">\r\n//             <img src={Cart} alt=\"\" width=\"30\" />\r\n//           </Link>\r\n//         </div>\r\n//       )}\r\n//     </header>\r\n//   );\r\n// }\r\nimport React, { useContext, useState } from \"react\";\r\nimport { GlobalState } from \"../../GlobaalState\";\r\nimport Menu from \"./icon/menu.svg\";\r\nimport Close from \"./icon/close.svg\";\r\nimport Cart from \"./icon/cart.svg\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nfunction Header() {\r\n  const state = useContext(GlobalState);\r\n  const [isLogged] = state.userAPI.isLogged;\r\n  const [isAdmin] = state.userAPI.isAdmin;\r\n  const [cart] = state.userAPI.cart;\r\n  const [menu, setMenu] = useState(false);\r\n\r\n  const logoutUser = async () => {\r\n    await axios.get(\"/user/logout\");\r\n\r\n    localStorage.removeItem(\"firstLogin\");\r\n    localStorage.clear()\r\n    window.location.href = \"/\";\r\n  };\r\n\r\n  const adminRouter = () => {\r\n    return (\r\n      <>\r\n        <li>\r\n          <Link to=\"/create_product\">Create Product</Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/category\">Categories</Link>\r\n        </li>\r\n      </>\r\n    );\r\n  };\r\n\r\n  const loggedRouter = () => {\r\n    return (\r\n      <>\r\n        <li>\r\n          <Link to=\"/history\">History</Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/\" onClick={logoutUser}>\r\n            Logout\r\n          </Link>\r\n        </li>\r\n      </>\r\n    );\r\n  };\r\n\r\n  const styleMenu = {\r\n    left: menu ? 0 : \"-100%\",\r\n  };\r\n\r\n  return (\r\n    <header>\r\n      <div className=\"menu\" onClick={() => setMenu(!menu)}>\r\n        <img src={Menu} alt=\"\" width=\"30\" />\r\n      </div>\r\n\r\n      <div className=\"logo\">\r\n        <h1>\r\n          <Link to=\"/\">{isAdmin ? \"ADMIN\" : \"ASIK SHOP\"}</Link>\r\n        </h1>\r\n      </div>\r\n\r\n      <ul style={styleMenu}>\r\n        <li>\r\n          <Link to=\"/\">{isAdmin ? \"Products\" : \"Shop\"}</Link>\r\n        </li>\r\n\r\n        {isAdmin && adminRouter()}\r\n\r\n        {isLogged ? (\r\n          loggedRouter()\r\n        ) : (\r\n          <li>\r\n            <Link to=\"/login\">Login ✥ Register</Link>\r\n          </li>\r\n        )}\r\n\r\n        <li onClick={() => setMenu(!menu)}>\r\n          <img src={Close} alt=\"\" width=\"30\" className=\"menu\" />\r\n        </li>\r\n      </ul>\r\n\r\n      {isAdmin ? (\r\n        \"\"\r\n      ) : (\r\n        <div className=\"cart-icon\">\r\n          <span>{cart.length}</span>\r\n          <Link to=\"/cart\">\r\n            <img src={Cart} alt=\"\" width=\"30\" />\r\n          </Link>\r\n        </div>\r\n      )}\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}