{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/scs/OneDrive/Desktop/9 hours insa_allah/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/scs/OneDrive/Desktop/9 hours insa_allah/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/scs/OneDrive/Desktop/9 hours insa_allah/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import axios from'axios';function ProductsAPI(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),callback=_useState4[0],setCallback=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),category=_useState6[0],setCategory=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),sort=_useState8[0],setSort=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),search=_useState10[0],setSearch=_useState10[1];var _useState11=useState(1),_useState12=_slicedToArray(_useState11,2),page=_useState12[0],setPage=_useState12[1];var _useState13=useState(0),_useState14=_slicedToArray(_useState13,2),result=_useState14[0],setResult=_useState14[1];useEffect(function(){var getProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/api/products?limit=\".concat(page*9,\"&\").concat(category,\"&\").concat(sort,\"&title[regex]=\").concat(search));case 2:res=_context.sent;setProducts(res.data.products);setResult(res.data.result);case 5:case\"end\":return _context.stop();}}},_callee);}));return function getProducts(){return _ref.apply(this,arguments);};}();getProducts();},[callback,category,sort,search,page]);return{products:[products,setProducts],callback:[callback,setCallback],category:[category,setCategory],sort:[sort,setSort],search:[search,setSearch],page:[page,setPage],result:[result,setResult]};}export default ProductsAPI;// import React,{useState,useEffect} from 'react'\n// import axios from \"axios\";\n// export default function ProductsAPI() {\n//     const [products, setProducts] = useState([]);\n//     const getProducts = async() => {\n//         const res = await axios.get(\"/api/products\");\n//         setProducts(res.data.products);\n//     }\n//     useEffect(() => {\n//    getProducts()\n//     }, [])\n//     return {\n//       products:[products,setProducts]\n//   }\n// }","map":{"version":3,"names":["useState","useEffect","axios","ProductsAPI","products","setProducts","callback","setCallback","category","setCategory","sort","setSort","search","setSearch","page","setPage","result","setResult","getProducts","get","res","data"],"sources":["C:/Users/scs/OneDrive/Desktop/9 hours insa_allah/client/src/api/ProductsAPI.js"],"sourcesContent":["import {useState, useEffect} from 'react'\nimport axios from 'axios'\n\n\nfunction ProductsAPI() {\n    const [products, setProducts] = useState([])\n    const [callback, setCallback] = useState(false)\n    const [category, setCategory] = useState('')\n    const [sort, setSort] = useState('')\n    const [search, setSearch] = useState('')\n    const [page, setPage] = useState(1)\n    const [result, setResult] = useState(0)\n\n    useEffect(() =>{\n        const getProducts = async () => {\n            const res = await axios.get(`/api/products?limit=${page*9}&${category}&${sort}&title[regex]=${search}`)\n            setProducts(res.data.products)\n            setResult(res.data.result)\n        }\n        getProducts()\n    },[callback, category, sort, search, page])\n    \n    return {\n        products: [products, setProducts],\n        callback: [callback, setCallback],\n        category: [category, setCategory],\n        sort: [sort, setSort],\n        search: [search, setSearch],\n        page: [page, setPage],\n        result: [result, setResult]\n    }\n}\n\nexport default ProductsAPI\n// import React,{useState,useEffect} from 'react'\n// import axios from \"axios\";\n// export default function ProductsAPI() {\n//     const [products, setProducts] = useState([]);\n//     const getProducts = async() => {\n//         const res = await axios.get(\"/api/products\");\n//         setProducts(res.data.products);\n//     }\n//     useEffect(() => {\n//    getProducts()\n//     }, [])\n    \n//     return {\n//       products:[products,setProducts]\n//   }\n// }\n"],"mappings":"ubAAA,OAAQA,QAAQ,CAAEC,SAAS,KAAO,OAAO,CACzC,MAAOC,MAAK,KAAM,OAAO,CAGzB,QAASC,YAAW,EAAG,CACnB,cAAgCH,QAAQ,CAAC,EAAE,CAAC,wCAArCI,QAAQ,eAAEC,WAAW,eAC5B,eAAgCL,QAAQ,CAAC,KAAK,CAAC,yCAAxCM,QAAQ,eAAEC,WAAW,eAC5B,eAAgCP,QAAQ,CAAC,EAAE,CAAC,yCAArCQ,QAAQ,eAAEC,WAAW,eAC5B,eAAwBT,QAAQ,CAAC,EAAE,CAAC,yCAA7BU,IAAI,eAAEC,OAAO,eACpB,eAA4BX,QAAQ,CAAC,EAAE,CAAC,0CAAjCY,MAAM,gBAAEC,SAAS,gBACxB,gBAAwBb,QAAQ,CAAC,CAAC,CAAC,2CAA5Bc,IAAI,gBAAEC,OAAO,gBACpB,gBAA4Bf,QAAQ,CAAC,CAAC,CAAC,2CAAhCgB,MAAM,gBAAEC,SAAS,gBAExBhB,SAAS,CAAC,UAAK,CACX,GAAMiB,YAAW,4FAAG,mKACEhB,MAAK,CAACiB,GAAG,+BAAwBL,IAAI,CAAC,CAAC,aAAIN,QAAQ,aAAIE,IAAI,0BAAiBE,MAAM,EAAG,QAAjGQ,GAAG,eACTf,WAAW,CAACe,GAAG,CAACC,IAAI,CAACjB,QAAQ,CAAC,CAC9Ba,SAAS,CAACG,GAAG,CAACC,IAAI,CAACL,MAAM,CAAC,uDAC7B,kBAJKE,YAAW,0CAIhB,CACDA,WAAW,EAAE,CACjB,CAAC,CAAC,CAACZ,QAAQ,CAAEE,QAAQ,CAAEE,IAAI,CAAEE,MAAM,CAAEE,IAAI,CAAC,CAAC,CAE3C,MAAO,CACHV,QAAQ,CAAE,CAACA,QAAQ,CAAEC,WAAW,CAAC,CACjCC,QAAQ,CAAE,CAACA,QAAQ,CAAEC,WAAW,CAAC,CACjCC,QAAQ,CAAE,CAACA,QAAQ,CAAEC,WAAW,CAAC,CACjCC,IAAI,CAAE,CAACA,IAAI,CAAEC,OAAO,CAAC,CACrBC,MAAM,CAAE,CAACA,MAAM,CAAEC,SAAS,CAAC,CAC3BC,IAAI,CAAE,CAACA,IAAI,CAAEC,OAAO,CAAC,CACrBC,MAAM,CAAE,CAACA,MAAM,CAAEC,SAAS,CAC9B,CAAC,CACL,CAEA,cAAed,YAAW,CAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}